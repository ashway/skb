{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.2b24b13c635fc753185c.hot-update.js","sources":["webpack:///./components/Card/index.jsx","webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport decode from 'ent/decode';\nimport \"./style.scss\"\n\n//- Нагло стащил из интернетов!\nconst format = (num, n, x) => {\n    let re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\.' : '$') + ')';\n    return (num||0).toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$& ');\n};\n\n\n\nclass Footer extends React.Component {\n\n    showOffer = (offer)=> {\n        parent.\n        this.setState({currentOffer: offer });\n    };\n\n    render() {\n        let data = this.props.data;\n        return (\n            <div className={`card ${data.priority==1?'active':''}`}>\n                <div className=\"f-xxsmall\">{`${data.priority==1?'Лучшее предложение для Вас':'Возможно Вас заинтересует'}`}</div>\n                <div><span className=\"f-sbig\">{decode(data.product_title)}<br/></span>(со справкой о доходах)</div>\n                <div className=\"card-table\">\n                    <div>\n                        <div>Сумма</div>\n                        <div>Ежемесячный платеж</div>\n                        <div>Срок</div>\n                        <div>Ставка</div>\n                    </div>\n                    <div>\n                        <div>{data.limit?`${format(data.limit)} ₽`:'-'}</div>\n                        <div>{data.payment?`${format(data.payment)} ₽`:'-'}</div>\n                        <div>{data.term||'-'} месяцев</div>\n                        <div>{data.rate||'-'}%</div>\n                    </div>\n                </div>\n                <div className=\"inline-block\"><div className=\"button\" onClick={()=>this.showOffer()}>Получить деньги</div></div>\n            </div>\n        )\n    }\n\n}\n\nexport default Footer;","import React from 'react';\nimport _ from 'lodash';\nimport \"../scss/base.scss\"\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Card from \"../components/Card\";\n\nimport data from \"../data/offers.json\";\n\nconst offersByPage = 2; //-- Кол-во оферов на странице\n\nclass IndexPage extends React.Component {\n\n    state = {\n        page: 0,\n        offers: _.sortBy(data, ['priority']),\n        currentOffer: null\n    };\n\n    showModeOffers = (n)=> {\n        let newPage = this.state.page+n;\n        newPage = newPage<0?0:newPage;\n        this.setState({ page: newPage});\n    };\n\nrender() {\n\n    let offerList = this.state.offers.slice(this.state.page*offersByPage, this.state.page*offersByPage+offersByPage);\n\n    return (\n        <div className=\"container\">\n            <Header/>\n            <div className=\"main bg image index-page\">\n                <div className=\"men\"/>\n\n                {this.state.currentOffer?\n                    <div className=\"content\">\n\n                    </div>:<div className=\"content\">\n                    <div className=\"f-xbig bold green mb60\">Уважаемый Иван Иванович</div>\n                    <div className=\"column\">\n                        <div>Специально для Вас мы подготовили несколько предложений по кредитованию. Выберите интересующий Вас вариант и нажмите кнопку «Получить деньги» для его получения. Если ни один из вариантов Вам не подходит, нажмите кнопку «Показать дополнительные предложения»</div>\n                        <div className=\"f-small gray\">Обращаем Ваше внимание, что в предложениях указана максимальная сумма кредита. В отделении Банка Вы всегда сможете снизить сумму кредита до требуемого размера.</div>\n                        <div className=\"card-container\">\n                            {_.map(offerList, d=><Card key={d.offer_id} data={d}/>)}\n                        </div>\n                        {(_.isArray(data) && data.length>offersByPage)?<div className=\"flex-block space-between mt60\">\n                            {this.state.page>0?<div className=\"button border\" onClick={()=>this.showModeOffers(-1)}>Назад</div>:null}\n                            {_.isArray(this.state.offers) && this.state.page*offersByPage+offersByPage<this.state.offers.length?<div className=\"button border\" onClick={()=>this.showModeOffers(1)}>Показать дополнительные предложения</div>:null}\n                        </div>:null}\n                    </div>\n                </div>}\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\n}\n\nexport default IndexPage;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA9BA;AACA;AAiCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AA7CA;AACA;AAgDA;;;;A","sourceRoot":""}