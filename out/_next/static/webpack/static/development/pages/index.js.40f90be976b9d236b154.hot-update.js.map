{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.40f90be976b9d236b154.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport \"../scss/base.scss\"\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Card from \"../components/Card\";\nimport decode from 'ent/decode';\n\nimport data from \"../data/offers.json\";\nconst offersByPage = 2; //-- Кол-во оферов на странице\n\n//- Дублирование кода... но в рамках тестового задания, делать отдельный файл с утилитами ради 1 функции не стал.\nconst format = (num, n, x) => {\n    let re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\.' : '$') + ')';\n    return (num||0).toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$& ');\n};\n\n\nclass IndexPage extends React.Component {\n\n    state = {\n        page: 0,\n        offers: _.sortBy(data, ['priority']),\n        currentOffer: null\n    };\n\n    showModeOffers = (n)=> {\n        let newPage = this.state.page+n;\n        newPage = newPage<0?0:newPage;\n        this.setState({ page: newPage});\n    };\n\n    showOffer = (offer)=> {\n        this.setState({currentOffer: offer });\n    };\n\n    clearOffer = () => {\n        this.setState({currentOffer: null});\n    }\n\nrender() {\n\n    let offerList = this.state.offers.slice(this.state.page*offersByPage, this.state.page*offersByPage+offersByPage);\n    let offer = this.state.currentOffer;\n    return (\n        <div className=\"container\">\n            <Header/>\n            <div className=\"main bg image index-page\">\n                <div className=\"men\"/>\n\n                {this.state.currentOffer?\n                    <div className=\"content offer-show\">\n                        <div><div>\n                            <div><div className=\"icon-v\"/></div>\n                            <div className=\"f-xlbig mb20\">Поздравляем!</div>\n                            <div className=\"golroy mb40\">Мария Александровна! Ваша заявка на кредит наличными одобрена</div>\n                            <div className=\"offer-card flex-as-left mb60\">\n                                <div className=\"f-sbig bold\">{decode(offer.product_title)}</div>\n                                <div className=\"oc-info mb10\">\n                                    <div className=\"f-xlbig bold\">{offer.limit?`${format(offer.limit)} ₽`:'-'}</div>\n                                    <div>\n                                        <div>{offer.term||'-'} месяцев</div>\n                                        <div>Срок</div>\n                                    </div>\n                                    <div>\n                                        <div>{offer.payment?`${format(offer.payment)} ₽/мес.`:'-'}</div>\n                                        <div>Платёж</div>\n                                    </div>\n                                    <div>\n                                        <div>{offer.rate||'-'}%</div>\n                                        <div>Ставка</div>\n                                    </div>\n                                </div>\n                                <div className=\"gilroy gray f-small\">(без справки о доходах по форме банка)</div>\n                            </div>\n\n                            <div className=\"add-info mb60\">\n                                <div>\n                                    <div className=\"bold mb10\">Мы ждём вас по адресу:</div>\n                                    <div className=\"icon loc\">г. Астрахань, ул. Кирова, 20/3,<br/>литер А, пом. 37</div>\n                                </div>\n                                <div>\n                                    <div className=\"bold mb10\">Не забудьте с собой взять:</div>\n                                    <div className=\"pass-spr\">\n                                        <div className=\"icon pass\">паспорт<br/>гражданина РФ</div>\n                                        <div className=\"icon spr\">справка<br/>по форме банка</div>\n                                    </div>\n                                </div>\n\n                            </div>\n\n                            <div className=\"flex-as-left\"><div className=\"button\" onClick={()=>this.clearOffer()}>На главную страницу</div></div>\n                      </div></div>\n                    </div>:<div className=\"content offer-list\">\n                    <div className=\"f-xbig bold green mb60\">Уважаемый Иван Иванович</div>\n                    <div className=\"column\">\n                        <div>Специально для Вас мы подготовили несколько предложений по кредитованию. Выберите интересующий Вас вариант и нажмите кнопку «Получить деньги» для его получения. Если ни один из вариантов Вам не подходит, нажмите кнопку «Показать дополнительные предложения»</div>\n                        <div className=\"f-small gray\">Обращаем Ваше внимание, что в предложениях указана максимальная сумма кредита. В отделении Банка Вы всегда сможете снизить сумму кредита до требуемого размера.</div>\n                        <div className=\"card-container\">\n                            {_.map(offerList, d=><Card key={d.offer_id} data={d} setOffer={this.showOffer}/>)}\n                        </div>\n                        {(_.isArray(data) && data.length>offersByPage)?<div className=\"flex-block space-between mt60\">\n                            {this.state.page>0?<div className=\"button border\" onClick={()=>this.showModeOffers(-1)}>Назад</div>:null}\n                            {_.isArray(this.state.offers) && this.state.page*offersByPage+offersByPage<this.state.offers.length?<div className=\"button border\" onClick={()=>this.showModeOffers(1)}>Показать дополнительные предложения</div>:null}\n                        </div>:null}\n                    </div>\n                </div>}\n\n\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\n}\n\nexport default IndexPage;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAcA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;AA/FA;AACA;AAkGA;;;;A","sourceRoot":""}